var hn=Object.defineProperty;var pn=(t,e,r)=>e in t?hn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var I=(t,e,r)=>pn(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(l){if(l.ep)return;l.ep=!0;const s=r(l);fetch(l.href,s)}})();function X(){}function T(t,e){for(const r in e)t[r]=e[r];return t}function Xt(t){return t()}function vt(){return Object.create(null)}function ke(t){t.forEach(Xt)}function Le(t){return typeof t=="function"}function K(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Be;function $t(t,e){return t===e?!0:(Be||(Be=document.createElement("a")),Be.href=e,t===Be.href)}function dn(t){return Object.keys(t).length===0}function ie(t,e,r,n){if(t){const l=Kt(t,e,r,n);return t[0](l)}}function Kt(t,e,r,n){return t[1]&&n?T(r.ctx.slice(),t[1](n(e))):r.ctx}function oe(t,e,r,n){return t[2],e.dirty}function ae(t,e,r,n,l,s){if(l){const i=Kt(e,r,n,s);t.p(i,l)}}function ce(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let n=0;n<r;n++)e[n]=-1;return e}return-1}function W(t){const e={};for(const r in t)r[0]!=="$"&&(e[r]=t[r]);return e}function St(t,e){const r={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(r[n]=t[n]);return r}function h(t,e){t.appendChild(e)}function C(t,e,r){t.insertBefore(e,r||null)}function z(t){t.parentNode&&t.parentNode.removeChild(t)}function Pe(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function m(t){return document.createElement(t)}function Jt(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function V(t){return document.createTextNode(t)}function y(){return V(" ")}function Ee(){return V("")}function se(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function g(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function qe(t,e){for(const r in e)g(t,r,e[r])}function gn(t){return Array.from(t.childNodes)}function he(t,e){e=""+e,t.data!==e&&(t.data=e)}function Rt(t,e){t.value=e??""}let lt;function Ce(t){lt=t}const $e=[],zt=[];let Se=[];const Tt=[],mn=Promise.resolve();let Ye=!1;function bn(){Ye||(Ye=!0,mn.then(Yt))}function et(t){Se.push(t)}const Xe=new Set;let ve=0;function Yt(){if(ve!==0)return;const t=lt;do{try{for(;ve<$e.length;){const e=$e[ve];ve++,Ce(e),kn(e.$$)}}catch(e){throw $e.length=0,ve=0,e}for(Ce(null),$e.length=0,ve=0;zt.length;)zt.pop()();for(let e=0;e<Se.length;e+=1){const r=Se[e];Xe.has(r)||(Xe.add(r),r())}Se.length=0}while($e.length);for(;Tt.length;)Tt.pop()();Ye=!1,Xe.clear(),Ce(t)}function kn(t){if(t.fragment!==null){t.update(),ke(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(et)}}function _n(t){const e=[],r=[];Se.forEach(n=>t.indexOf(n)===-1?e.push(n):r.push(n)),r.forEach(n=>n()),Se=e}const Oe=new Set;let we;function Re(){we={r:0,c:[],p:we}}function ze(){we.r||ke(we.c),we=we.p}function _(t,e){t&&t.i&&(Oe.delete(t),t.i(e))}function w(t,e,r,n){if(t&&t.o){if(Oe.has(t))return;Oe.add(t),we.c.push(()=>{Oe.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}function le(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ne(t,e){const r={},n={},l={$$scope:1};let s=t.length;for(;s--;){const i=t[s],o=e[s];if(o){for(const c in i)c in o||(n[c]=1);for(const c in o)l[c]||(r[c]=o[c],l[c]=1);t[s]=o}else for(const c in i)l[c]=1}for(const i in n)i in r||(r[i]=void 0);return r}function pe(t){return typeof t=="object"&&t!==null?t:{}}function G(t){t&&t.c()}function q(t,e,r){const{fragment:n,after_update:l}=t.$$;n&&n.m(e,r),et(()=>{const s=t.$$.on_mount.map(Xt).filter(Le);t.$$.on_destroy?t.$$.on_destroy.push(...s):ke(s),t.$$.on_mount=[]}),l.forEach(et)}function D(t,e){const r=t.$$;r.fragment!==null&&(_n(r.after_update),ke(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function wn(t,e){t.$$.dirty[0]===-1&&($e.push(t),bn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(t,e,r,n,l,s,i=null,o=[-1]){const c=lt;Ce(t);const a=t.$$={fragment:null,ctx:[],props:s,update:X,not_equal:l,bound:vt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:vt(),dirty:o,skip_bound:!1,root:e.target||c.$$.root};i&&i(a.root);let u=!1;if(a.ctx=r?r(t,e.props||{},(d,f,...b)=>{const p=b.length?b[0]:f;return a.ctx&&l(a.ctx[d],a.ctx[d]=p)&&(!a.skip_bound&&a.bound[d]&&a.bound[d](p),u&&wn(t,d)),f}):[],a.update(),u=!0,ke(a.before_update),a.fragment=n?n(a.ctx):!1,e.target){if(e.hydrate){const d=gn(e.target);a.fragment&&a.fragment.l(d),d.forEach(z)}else a.fragment&&a.fragment.c();e.intro&&_(t.$$.fragment),q(t,e.target,e.anchor),Yt()}Ce(c)}class Y{constructor(){I(this,"$$");I(this,"$$set")}$destroy(){D(this,1),this.$destroy=X}$on(e,r){if(!Le(r))return X;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const l=n.indexOf(r);l!==-1&&n.splice(l,1)}}$set(e){this.$$set&&!dn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const xn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(xn);/**
 * @license lucide-svelte v0.562.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 * ---
 * 
 * The MIT License (MIT) (for portions derived from Feather)
 * 
 * Copyright (c) 2013-2023 Cole Bemis
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
 */const At={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};function Ct(t,e,r){const n=t.slice();return n[11]=e[r][0],n[12]=e[r][1],n}function Ke(t){let e,r=[t[12]],n={};for(let l=0;l<r.length;l+=1)n=T(n,r[l]);return{c(){e=Jt(t[11]),qe(e,n)},m(l,s){C(l,e,s)},p(l,s){qe(e,n=ne(r,[s&32&&l[12]]))},d(l){l&&z(e)}}}function Nt(t){let e=t[11],r,n=t[11]&&Ke(t);return{c(){n&&n.c(),r=Ee()},m(l,s){n&&n.m(l,s),C(l,r,s)},p(l,s){l[11]?e?K(e,l[11])?(n.d(1),n=Ke(l),e=l[11],n.c(),n.m(r.parentNode,r)):n.p(l,s):(n=Ke(l),e=l[11],n.c(),n.m(r.parentNode,r)):e&&(n.d(1),n=null,e=l[11])},d(l){l&&z(r),n&&n.d(l)}}}function yn(t){let e,r,n,l,s,i=le(t[5]),o=[];for(let f=0;f<i.length;f+=1)o[f]=Nt(Ct(t,i,f));const c=t[10].default,a=ie(c,t,t[9],null);let u=[At,t[7],{width:t[2]},{height:t[2]},{stroke:t[1]},{"stroke-width":n=t[4]?Number(t[3])*24/Number(t[2]):t[3]},{class:l=t[6]("lucide-icon","lucide",t[0]?`lucide-${t[0]}`:"",t[8].class)}],d={};for(let f=0;f<u.length;f+=1)d=T(d,u[f]);return{c(){e=Jt("svg");for(let f=0;f<o.length;f+=1)o[f].c();r=Ee(),a&&a.c(),qe(e,d)},m(f,b){C(f,e,b);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(e,null);h(e,r),a&&a.m(e,null),s=!0},p(f,[b]){if(b&32){i=le(f[5]);let p;for(p=0;p<i.length;p+=1){const k=Ct(f,i,p);o[p]?o[p].p(k,b):(o[p]=Nt(k),o[p].c(),o[p].m(e,r))}for(;p<o.length;p+=1)o[p].d(1);o.length=i.length}a&&a.p&&(!s||b&512)&&ae(a,c,f,f[9],s?oe(c,f[9],b,null):ce(f[9]),null),qe(e,d=ne(u,[At,b&128&&f[7],(!s||b&4)&&{width:f[2]},(!s||b&4)&&{height:f[2]},(!s||b&2)&&{stroke:f[1]},(!s||b&28&&n!==(n=f[4]?Number(f[3])*24/Number(f[2]):f[3]))&&{"stroke-width":n},(!s||b&257&&l!==(l=f[6]("lucide-icon","lucide",f[0]?`lucide-${f[0]}`:"",f[8].class)))&&{class:l}]))},i(f){s||(_(a,f),s=!0)},o(f){w(a,f),s=!1},d(f){f&&z(e),Pe(o,f),a&&a.d(f)}}}function vn(t,e,r){const n=["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode"];let l=St(e,n),{$$slots:s={},$$scope:i}=e,{name:o=void 0}=e,{color:c="currentColor"}=e,{size:a=24}=e,{strokeWidth:u=2}=e,{absoluteStrokeWidth:d=!1}=e,{iconNode:f=[]}=e;const b=(...p)=>p.filter((k,S,$)=>!!k&&$.indexOf(k)===S).join(" ");return t.$$set=p=>{r(8,e=T(T({},e),W(p))),r(7,l=St(e,n)),"name"in p&&r(0,o=p.name),"color"in p&&r(1,c=p.color),"size"in p&&r(2,a=p.size),"strokeWidth"in p&&r(3,u=p.strokeWidth),"absoluteStrokeWidth"in p&&r(4,d=p.absoluteStrokeWidth),"iconNode"in p&&r(5,f=p.iconNode),"$$scope"in p&&r(9,i=p.$$scope)},e=W(e),[o,c,a,u,d,f,b,l,e,i,s]}class de extends Y{constructor(e){super(),J(this,e,vn,yn,K,{name:0,color:1,size:2,strokeWidth:3,absoluteStrokeWidth:4,iconNode:5})}}function $n(t){let e;const r=t[2].default,n=ie(r,t,t[3],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8)&&ae(n,r,l,l[3],e?oe(r,l[3],s,null):ce(l[3]),null)},i(l){e||(_(n,l),e=!0)},o(l){w(n,l),e=!1},d(l){n&&n.d(l)}}}function Sn(t){let e,r;const n=[{name:"brain-circuit"},t[1],{iconNode:t[0]}];let l={$$slots:{default:[$n]},$$scope:{ctx:t}};for(let s=0;s<n.length;s+=1)l=T(l,n[s]);return e=new de({props:l}),{c(){G(e.$$.fragment)},m(s,i){q(e,s,i),r=!0},p(s,[i]){const o=i&3?ne(n,[n[0],i&2&&pe(s[1]),i&1&&{iconNode:s[0]}]):{};i&8&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){w(e.$$.fragment,s),r=!1},d(s){D(e,s)}}}function Rn(t,e,r){let{$$slots:n={},$$scope:l}=e;const s=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516"}],["path",{d:"M12 13h4"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1"}],["path",{d:"M12 8h8"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2"}],["circle",{cx:"16",cy:"13",r:".5"}],["circle",{cx:"18",cy:"3",r:".5"}],["circle",{cx:"20",cy:"21",r:".5"}],["circle",{cx:"20",cy:"8",r:".5"}]];return t.$$set=i=>{r(1,e=T(T({},e),W(i))),"$$scope"in i&&r(3,l=i.$$scope)},e=W(e),[s,e,n,l]}class st extends Y{constructor(e){super(),J(this,e,Rn,Sn,K,{})}}function zn(t){let e;const r=t[2].default,n=ie(r,t,t[3],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8)&&ae(n,r,l,l[3],e?oe(r,l[3],s,null):ce(l[3]),null)},i(l){e||(_(n,l),e=!0)},o(l){w(n,l),e=!1},d(l){n&&n.d(l)}}}function Tn(t){let e,r;const n=[{name:"file-text"},t[1],{iconNode:t[0]}];let l={$$slots:{default:[zn]},$$scope:{ctx:t}};for(let s=0;s<n.length;s+=1)l=T(l,n[s]);return e=new de({props:l}),{c(){G(e.$$.fragment)},m(s,i){q(e,s,i),r=!0},p(s,[i]){const o=i&3?ne(n,[n[0],i&2&&pe(s[1]),i&1&&{iconNode:s[0]}]):{};i&8&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){w(e.$$.fragment,s),r=!1},d(s){D(e,s)}}}function An(t,e,r){let{$$slots:n={},$$scope:l}=e;const s=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5"}],["path",{d:"M10 9H8"}],["path",{d:"M16 13H8"}],["path",{d:"M16 17H8"}]];return t.$$set=i=>{r(1,e=T(T({},e),W(i))),"$$scope"in i&&r(3,l=i.$$scope)},e=W(e),[s,e,n,l]}class Cn extends Y{constructor(e){super(),J(this,e,An,Tn,K,{})}}function Nn(t){let e;const r=t[2].default,n=ie(r,t,t[3],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8)&&ae(n,r,l,l[3],e?oe(r,l[3],s,null):ce(l[3]),null)},i(l){e||(_(n,l),e=!0)},o(l){w(n,l),e=!1},d(l){n&&n.d(l)}}}function Ln(t){let e,r;const n=[{name:"history"},t[1],{iconNode:t[0]}];let l={$$slots:{default:[Nn]},$$scope:{ctx:t}};for(let s=0;s<n.length;s+=1)l=T(l,n[s]);return e=new de({props:l}),{c(){G(e.$$.fragment)},m(s,i){q(e,s,i),r=!0},p(s,[i]){const o=i&3?ne(n,[n[0],i&2&&pe(s[1]),i&1&&{iconNode:s[0]}]):{};i&8&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){w(e.$$.fragment,s),r=!1},d(s){D(e,s)}}}function Pn(t,e,r){let{$$slots:n={},$$scope:l}=e;const s=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M12 7v5l4 2"}]];return t.$$set=i=>{r(1,e=T(T({},e),W(i))),"$$scope"in i&&r(3,l=i.$$scope)},e=W(e),[s,e,n,l]}class En extends Y{constructor(e){super(),J(this,e,Pn,Ln,K,{})}}function In(t){let e;const r=t[2].default,n=ie(r,t,t[3],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8)&&ae(n,r,l,l[3],e?oe(r,l[3],s,null):ce(l[3]),null)},i(l){e||(_(n,l),e=!0)},o(l){w(n,l),e=!1},d(l){n&&n.d(l)}}}function Bn(t){let e,r;const n=[{name:"loader-circle"},t[1],{iconNode:t[0]}];let l={$$slots:{default:[In]},$$scope:{ctx:t}};for(let s=0;s<n.length;s+=1)l=T(l,n[s]);return e=new de({props:l}),{c(){G(e.$$.fragment)},m(s,i){q(e,s,i),r=!0},p(s,[i]){const o=i&3?ne(n,[n[0],i&2&&pe(s[1]),i&1&&{iconNode:s[0]}]):{};i&8&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){w(e.$$.fragment,s),r=!1},d(s){D(e,s)}}}function Mn(t,e,r){let{$$slots:n={},$$scope:l}=e;const s=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56"}]];return t.$$set=i=>{r(1,e=T(T({},e),W(i))),"$$scope"in i&&r(3,l=i.$$scope)},e=W(e),[s,e,n,l]}class it extends Y{constructor(e){super(),J(this,e,Mn,Bn,K,{})}}function On(t){let e;const r=t[2].default,n=ie(r,t,t[3],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8)&&ae(n,r,l,l[3],e?oe(r,l[3],s,null):ce(l[3]),null)},i(l){e||(_(n,l),e=!0)},o(l){w(n,l),e=!1},d(l){n&&n.d(l)}}}function jn(t){let e,r;const n=[{name:"search"},t[1],{iconNode:t[0]}];let l={$$slots:{default:[On]},$$scope:{ctx:t}};for(let s=0;s<n.length;s+=1)l=T(l,n[s]);return e=new de({props:l}),{c(){G(e.$$.fragment)},m(s,i){q(e,s,i),r=!0},p(s,[i]){const o=i&3?ne(n,[n[0],i&2&&pe(s[1]),i&1&&{iconNode:s[0]}]):{};i&8&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){w(e.$$.fragment,s),r=!1},d(s){D(e,s)}}}function qn(t,e,r){let{$$slots:n={},$$scope:l}=e;const s=[["path",{d:"m21 21-4.34-4.34"}],["circle",{cx:"11",cy:"11",r:"8"}]];return t.$$set=i=>{r(1,e=T(T({},e),W(i))),"$$scope"in i&&r(3,l=i.$$scope)},e=W(e),[s,e,n,l]}class Dn extends Y{constructor(e){super(),J(this,e,qn,jn,K,{})}}function Hn(t){let e;const r=t[2].default,n=ie(r,t,t[3],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8)&&ae(n,r,l,l[3],e?oe(r,l[3],s,null):ce(l[3]),null)},i(l){e||(_(n,l),e=!0)},o(l){w(n,l),e=!1},d(l){n&&n.d(l)}}}function Gn(t){let e,r;const n=[{name:"settings"},t[1],{iconNode:t[0]}];let l={$$slots:{default:[Hn]},$$scope:{ctx:t}};for(let s=0;s<n.length;s+=1)l=T(l,n[s]);return e=new de({props:l}),{c(){G(e.$$.fragment)},m(s,i){q(e,s,i),r=!0},p(s,[i]){const o=i&3?ne(n,[n[0],i&2&&pe(s[1]),i&1&&{iconNode:s[0]}]):{};i&8&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){w(e.$$.fragment,s),r=!1},d(s){D(e,s)}}}function Zn(t,e,r){let{$$slots:n={},$$scope:l}=e;const s=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}],["circle",{cx:"12",cy:"12",r:"3"}]];return t.$$set=i=>{r(1,e=T(T({},e),W(i))),"$$scope"in i&&r(3,l=i.$$scope)},e=W(e),[s,e,n,l]}class Fn extends Y{constructor(e){super(),J(this,e,Zn,Gn,K,{})}}function Qn(t){let e;const r=t[2].default,n=ie(r,t,t[3],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8)&&ae(n,r,l,l[3],e?oe(r,l[3],s,null):ce(l[3]),null)},i(l){e||(_(n,l),e=!0)},o(l){w(n,l),e=!1},d(l){n&&n.d(l)}}}function Wn(t){let e,r;const n=[{name:"shield-check"},t[1],{iconNode:t[0]}];let l={$$slots:{default:[Qn]},$$scope:{ctx:t}};for(let s=0;s<n.length;s+=1)l=T(l,n[s]);return e=new de({props:l}),{c(){G(e.$$.fragment)},m(s,i){q(e,s,i),r=!0},p(s,[i]){const o=i&3?ne(n,[n[0],i&2&&pe(s[1]),i&1&&{iconNode:s[0]}]):{};i&8&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){w(e.$$.fragment,s),r=!1},d(s){D(e,s)}}}function Vn(t,e,r){let{$$slots:n={},$$scope:l}=e;const s=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"}],["path",{d:"m9 12 2 2 4-4"}]];return t.$$set=i=>{r(1,e=T(T({},e),W(i))),"$$scope"in i&&r(3,l=i.$$scope)},e=W(e),[s,e,n,l]}class Un extends Y{constructor(e){super(),J(this,e,Vn,Wn,K,{})}}function Xn(t){let e;const r=t[2].default,n=ie(r,t,t[3],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8)&&ae(n,r,l,l[3],e?oe(r,l[3],s,null):ce(l[3]),null)},i(l){e||(_(n,l),e=!0)},o(l){w(n,l),e=!1},d(l){n&&n.d(l)}}}function Kn(t){let e,r;const n=[{name:"upload"},t[1],{iconNode:t[0]}];let l={$$slots:{default:[Xn]},$$scope:{ctx:t}};for(let s=0;s<n.length;s+=1)l=T(l,n[s]);return e=new de({props:l}),{c(){G(e.$$.fragment)},m(s,i){q(e,s,i),r=!0},p(s,[i]){const o=i&3?ne(n,[n[0],i&2&&pe(s[1]),i&1&&{iconNode:s[0]}]):{};i&8&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){w(e.$$.fragment,s),r=!1},d(s){D(e,s)}}}function Jn(t,e,r){let{$$slots:n={},$$scope:l}=e;const s=[["path",{d:"M12 3v12"}],["path",{d:"m17 8-5-5-5 5"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}]];return t.$$set=i=>{r(1,e=T(T({},e),W(i))),"$$scope"in i&&r(3,l=i.$$scope)},e=W(e),[s,e,n,l]}class Yn extends Y{constructor(e){super(),J(this,e,Jn,Kn,K,{})}}function er(t){let e;const r=t[2].default,n=ie(r,t,t[3],null);return{c(){n&&n.c()},m(l,s){n&&n.m(l,s),e=!0},p(l,s){n&&n.p&&(!e||s&8)&&ae(n,r,l,l[3],e?oe(r,l[3],s,null):ce(l[3]),null)},i(l){e||(_(n,l),e=!0)},o(l){w(n,l),e=!1},d(l){n&&n.d(l)}}}function tr(t){let e,r;const n=[{name:"x"},t[1],{iconNode:t[0]}];let l={$$slots:{default:[er]},$$scope:{ctx:t}};for(let s=0;s<n.length;s+=1)l=T(l,n[s]);return e=new de({props:l}),{c(){G(e.$$.fragment)},m(s,i){q(e,s,i),r=!0},p(s,[i]){const o=i&3?ne(n,[n[0],i&2&&pe(s[1]),i&1&&{iconNode:s[0]}]):{};i&8&&(o.$$scope={dirty:i,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){w(e.$$.fragment,s),r=!1},d(s){D(e,s)}}}function nr(t,e,r){let{$$slots:n={},$$scope:l}=e;const s=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];return t.$$set=i=>{r(1,e=T(T({},e),W(i))),"$$scope"in i&&r(3,l=i.$$scope)},e=W(e),[s,e,n,l]}class rr extends Y{constructor(e){super(),J(this,e,nr,tr,K,{})}}function lr(t){let e,r,n,l,s,i,o,c,a,u,d,f,b,p;return s=new Un({props:{class:"text-cyan-400",size:24}}),d=new Fn({props:{size:20}}),{c(){e=m("nav"),r=m("div"),n=m("div"),l=m("div"),G(s.$$.fragment),i=y(),o=m("h1"),o.innerHTML='Cyber Agent <span class="text-cyan-400 text-xs px-2 py-0.5 bg-cyan-900/30 rounded border border-cyan-800">BETA</span>',c=y(),a=m("div"),u=m("button"),G(d.$$.fragment),g(l,"class","p-2 bg-cyan-500/10 rounded-lg"),g(o,"class","text-xl font-bold bg-gradient-to-r from-white to-gray-400 bg-clip-text text-transparent"),g(n,"class","flex items-center gap-3"),g(u,"class","p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors"),g(u,"title","Settings"),g(a,"class","flex items-center gap-4"),g(r,"class","max-w-7xl mx-auto px-4 h-16 flex items-center justify-between"),g(e,"class","border-b border-gray-800 bg-gray-900/50 backdrop-blur top-0 sticky z-40")},m(k,S){C(k,e,S),h(e,r),h(r,n),h(n,l),q(s,l,null),h(n,i),h(n,o),h(r,c),h(r,a),h(a,u),q(d,u,null),f=!0,b||(p=se(u,"click",function(){Le(t[0])&&t[0].apply(this,arguments)}),b=!0)},p(k,[S]){t=k},i(k){f||(_(s.$$.fragment,k),_(d.$$.fragment,k),f=!0)},o(k){w(s.$$.fragment,k),w(d.$$.fragment,k),f=!1},d(k){k&&z(e),D(s),D(d),b=!1,p()}}}function sr(t,e,r){let{onOpenSettings:n}=e;return t.$$set=l=>{"onOpenSettings"in l&&r(0,n=l.onOpenSettings)},[n]}class ir extends Y{constructor(e){super(),J(this,e,sr,lr,K,{onOpenSettings:0})}}async function or(){const t=await fetch("/api/config");if(!t.ok)throw new Error("Failed to fetch config");return t.json()}async function ar(t,e){const r=await fetch("/api/config",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({key:t,value:e})});if(!r.ok)throw new Error("Failed to update config");return r.json()}async function cr(){const t=await fetch("/api/reports");if(!t.ok)throw new Error("Failed to fetch reports");return t.json()}async function ur(t,e){const r=await fetch("/api/super/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:t,image:e})});if(!r.ok)throw new Error("Failed to chat");return r.json()}function Lt(t,e,r){const n=t.slice();return n[10]=e[r][0],n[11]=e[r][1],n}function Pt(t,e,r){const n=t.slice();return n[10]=e[r],n}function Et(t){let e,r,n,l,s,i,o,c,a,u,d,f,b,p,k;l=new rr({props:{size:24}});const S=[hr,fr],$=[];function H(A,M){return A[3]?0:1}return c=H(t),a=$[c]=S[c](t),{c(){e=m("div"),r=m("div"),n=m("button"),G(l.$$.fragment),s=y(),i=m("h2"),i.textContent="Configuration",o=y(),a.c(),u=y(),d=m("div"),f=m("button"),f.textContent="Close",g(n,"class","absolute top-4 right-4 text-gray-400 hover:text-white"),g(i,"class","text-2xl font-bold mb-6 text-white flex items-center gap-2"),g(f,"class","px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-white font-medium"),g(d,"class","mt-6 text-right"),g(r,"class","w-full max-w-2xl bg-gray-900 border border-gray-700 rounded-xl shadow-2xl p-6 relative"),g(e,"class","fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm")},m(A,M){C(A,e,M),h(e,r),h(r,n),q(l,n,null),h(r,s),h(r,i),h(r,o),$[c].m(r,null),h(r,u),h(r,d),h(d,f),b=!0,p||(k=[se(n,"click",function(){Le(t[1])&&t[1].apply(this,arguments)}),se(f,"click",function(){Le(t[1])&&t[1].apply(this,arguments)})],p=!0)},p(A,M){t=A;let R=c;c=H(t),c===R?$[c].p(t,M):(Re(),w($[R],1,1,()=>{$[R]=null}),ze(),a=$[c],a?a.p(t,M):(a=$[c]=S[c](t),a.c()),_(a,1),a.m(r,u))},i(A){b||(_(l.$$.fragment,A),_(a),b=!0)},o(A){w(l.$$.fragment,A),w(a),b=!1},d(A){A&&z(e),D(l),$[c].d(),p=!1,ke(k)}}}function fr(t){let e,r,n=le(t[5]),l=[];for(let o=0;o<n.length;o+=1)l[o]=It(Pt(t,n,o));let s=le(Object.entries(t[2])),i=[];for(let o=0;o<s.length;o+=1)i[o]=Mt(Lt(t,s,o));return{c(){e=m("div");for(let o=0;o<l.length;o+=1)l[o].c();r=y();for(let o=0;o<i.length;o+=1)i[o].c();g(e,"class","space-y-4 max-h-[60vh] overflow-y-auto pr-2")},m(o,c){C(o,e,c);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null);h(e,r);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null)},p(o,c){if(c&52){n=le(o[5]);let a;for(a=0;a<n.length;a+=1){const u=Pt(o,n,a);l[a]?l[a].p(u,c):(l[a]=It(u),l[a].c(),l[a].m(e,r))}for(;a<l.length;a+=1)l[a].d(1);l.length=n.length}if(c&52){s=le(Object.entries(o[2]));let a;for(a=0;a<s.length;a+=1){const u=Lt(o,s,a);i[a]?i[a].p(u,c):(i[a]=Mt(u),i[a].c(),i[a].m(e,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=s.length}},i:X,o:X,d(o){o&&z(e),Pe(l,o),Pe(i,o)}}}function hr(t){let e,r,n;return r=new it({props:{class:"animate-spin text-cyan-400",size:32}}),{c(){e=m("div"),G(r.$$.fragment),g(e,"class","flex justify-center p-8")},m(l,s){C(l,e,s),q(r,e,null),n=!0},p:X,i(l){n||(_(r.$$.fragment,l),n=!0)},o(l){w(r.$$.fragment,l),n=!1},d(l){l&&z(e),D(r)}}}function It(t){let e,r,n,l,s,i,o,c,a;function u(...d){return t[6](t[10],...d)}return{c(){e=m("div"),r=m("label"),r.textContent=`${t[10]}`,n=y(),l=m("div"),s=m("input"),o=y(),g(r,"class","block text-sm font-medium text-gray-400 mb-1"),g(s,"type","text"),s.value=i=t[2][t[10]]||"",g(s,"class","flex-1 bg-gray-950 border border-gray-700 rounded px-3 py-2 text-white font-mono focus:border-cyan-500 outline-none"),g(s,"placeholder","Value..."),g(l,"class","flex gap-2"),g(e,"class","bg-gray-800 p-4 rounded-lg")},m(d,f){C(d,e,f),h(e,r),h(e,n),h(e,l),h(l,s),h(e,o),c||(a=se(s,"change",u),c=!0)},p(d,f){t=d,f&4&&i!==(i=t[2][t[10]]||"")&&s.value!==i&&(s.value=i)},d(d){d&&z(e),c=!1,a()}}}function Bt(t){let e,r,n=t[10]+"",l,s,i,o,c,a,u,d;function f(...b){return t[7](t[10],...b)}return{c(){e=m("div"),r=m("label"),l=V(n),s=y(),i=m("div"),o=m("input"),a=y(),g(r,"class","block text-sm font-medium text-gray-400 mb-1"),g(o,"type","text"),o.value=c=t[11],g(o,"class","flex-1 bg-gray-950 border border-gray-700 rounded px-3 py-2 text-white font-mono focus:border-cyan-500 outline-none"),g(i,"class","flex gap-2"),g(e,"class","bg-gray-800 p-4 rounded-lg")},m(b,p){C(b,e,p),h(e,r),h(r,l),h(e,s),h(e,i),h(i,o),h(e,a),u||(d=se(o,"change",f),u=!0)},p(b,p){t=b,p&4&&n!==(n=t[10]+"")&&he(l,n),p&4&&c!==(c=t[11])&&o.value!==c&&(o.value=c)},d(b){b&&z(e),u=!1,d()}}}function Mt(t){let e=!t[5].includes(t[10]),r,n=e&&Bt(t);return{c(){n&&n.c(),r=Ee()},m(l,s){n&&n.m(l,s),C(l,r,s)},p(l,s){s&4&&(e=!l[5].includes(l[10])),e?n?n.p(l,s):(n=Bt(l),n.c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},d(l){l&&z(r),n&&n.d(l)}}}function pr(t){let e,r,n=t[0]&&Et(t);return{c(){n&&n.c(),e=Ee()},m(l,s){n&&n.m(l,s),C(l,e,s),r=!0},p(l,[s]){l[0]?n?(n.p(l,s),s&1&&_(n,1)):(n=Et(l),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(Re(),w(n,1,1,()=>{n=null}),ze())},i(l){r||(_(n),r=!0)},o(l){w(n),r=!1},d(l){l&&z(e),n&&n.d(l)}}}function dr(t,e,r){let{show:n=!1}=e,{onClose:l}=e,s={},i=!0;async function o(){r(3,i=!0);try{r(2,s=await or())}catch(f){console.error(f)}finally{r(3,i=!1)}}async function c(f,b){try{await ar(f,b),await o()}catch{alert("Failed to save")}finally{}}const a=["GOOGLE_API_KEY","GOOGLE_CX","OPENAI_API_KEY"],u=(f,b)=>c(f,b.currentTarget.value),d=(f,b)=>c(f,b.currentTarget.value);return t.$$set=f=>{"show"in f&&r(0,n=f.show),"onClose"in f&&r(1,l=f.onClose)},t.$$.update=()=>{t.$$.dirty&1&&n&&o()},[n,l,s,i,c,a,u,d]}class gr extends Y{constructor(e){super(),J(this,e,dr,pr,K,{show:0,onClose:1})}}function ot(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var ye=ot();function en(t){ye=t}var Ne={exec:()=>null};function L(t,e=""){let r=typeof t=="string"?t:t.source;const n={replace:(l,s)=>{let i=typeof s=="string"?s:s.source;return i=i.replace(U.caret,"$1"),r=r.replace(l,i),n},getRegex:()=>new RegExp(r,e)};return n}var U={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},mr=/^(?:[ \t]*(?:\n|$))+/,br=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,kr=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ie=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,_r=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,at=/(?:[*+-]|\d{1,9}[.)])/,tn=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,nn=L(tn).replace(/bull/g,at).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),wr=L(tn).replace(/bull/g,at).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),ct=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,xr=/^[^\n]+/,ut=/(?!\s*\])(?:\\.|[^\[\]\\])+/,yr=L(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",ut).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),vr=L(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,at).getRegex(),Ze="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ft=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,$r=L("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ft).replace("tag",Ze).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),rn=L(ct).replace("hr",Ie).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ze).getRegex(),Sr=L(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",rn).getRegex(),ht={blockquote:Sr,code:br,def:yr,fences:kr,heading:_r,hr:Ie,html:$r,lheading:nn,list:vr,newline:mr,paragraph:rn,table:Ne,text:xr},Ot=L("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ie).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ze).getRegex(),Rr={...ht,lheading:wr,table:Ot,paragraph:L(ct).replace("hr",Ie).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ot).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ze).getRegex()},zr={...ht,html:L(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ft).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ne,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:L(ct).replace("hr",Ie).replace("heading",` *#{1,6} *[^
]`).replace("lheading",nn).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Tr=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ar=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,ln=/^( {2,}|\\)\n(?!\s*$)/,Cr=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Fe=/[\p{P}\p{S}]/u,pt=/[\s\p{P}\p{S}]/u,sn=/[^\s\p{P}\p{S}]/u,Nr=L(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,pt).getRegex(),on=/(?!~)[\p{P}\p{S}]/u,Lr=/(?!~)[\s\p{P}\p{S}]/u,Pr=/(?:[^\s\p{P}\p{S}]|~)/u,Er=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,an=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Ir=L(an,"u").replace(/punct/g,Fe).getRegex(),Br=L(an,"u").replace(/punct/g,on).getRegex(),cn="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Mr=L(cn,"gu").replace(/notPunctSpace/g,sn).replace(/punctSpace/g,pt).replace(/punct/g,Fe).getRegex(),Or=L(cn,"gu").replace(/notPunctSpace/g,Pr).replace(/punctSpace/g,Lr).replace(/punct/g,on).getRegex(),jr=L("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,sn).replace(/punctSpace/g,pt).replace(/punct/g,Fe).getRegex(),qr=L(/\\(punct)/,"gu").replace(/punct/g,Fe).getRegex(),Dr=L(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Hr=L(ft).replace("(?:-->|$)","-->").getRegex(),Gr=L("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Hr).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),De=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Zr=L(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",De).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),un=L(/^!?\[(label)\]\[(ref)\]/).replace("label",De).replace("ref",ut).getRegex(),fn=L(/^!?\[(ref)\](?:\[\])?/).replace("ref",ut).getRegex(),Fr=L("reflink|nolink(?!\\()","g").replace("reflink",un).replace("nolink",fn).getRegex(),dt={_backpedal:Ne,anyPunctuation:qr,autolink:Dr,blockSkip:Er,br:ln,code:Ar,del:Ne,emStrongLDelim:Ir,emStrongRDelimAst:Mr,emStrongRDelimUnd:jr,escape:Tr,link:Zr,nolink:fn,punctuation:Nr,reflink:un,reflinkSearch:Fr,tag:Gr,text:Cr,url:Ne},Qr={...dt,link:L(/^!?\[(label)\]\((.*?)\)/).replace("label",De).getRegex(),reflink:L(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",De).getRegex()},tt={...dt,emStrongRDelimAst:Or,emStrongLDelim:Br,url:L(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Wr={...tt,br:L(ln).replace("{2,}","*").getRegex(),text:L(tt.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Me={normal:ht,gfm:Rr,pedantic:zr},Te={normal:dt,gfm:tt,breaks:Wr,pedantic:Qr},Vr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},jt=t=>Vr[t];function re(t,e){if(e){if(U.escapeTest.test(t))return t.replace(U.escapeReplace,jt)}else if(U.escapeTestNoEncode.test(t))return t.replace(U.escapeReplaceNoEncode,jt);return t}function qt(t){try{t=encodeURI(t).replace(U.percentDecode,"%")}catch{return null}return t}function Dt(t,e){var s;const r=t.replace(U.findPipe,(i,o,c)=>{let a=!1,u=o;for(;--u>=0&&c[u]==="\\";)a=!a;return a?"|":" |"}),n=r.split(U.splitPipe);let l=0;if(n[0].trim()||n.shift(),n.length>0&&!((s=n.at(-1))!=null&&s.trim())&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;l<n.length;l++)n[l]=n[l].trim().replace(U.slashPipe,"|");return n}function Ae(t,e,r){const n=t.length;if(n===0)return"";let l=0;for(;l<n&&t.charAt(n-l-1)===e;)l++;return t.slice(0,n-l)}function Ur(t,e){if(t.indexOf(e[1])===-1)return-1;let r=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])r++;else if(t[n]===e[1]&&(r--,r<0))return n;return r>0?-2:-1}function Ht(t,e,r,n,l){const s=e.href,i=e.title||null,o=t[1].replace(l.other.outputLinkReplace,"$1");n.state.inLink=!0;const c={type:t[0].charAt(0)==="!"?"image":"link",raw:r,href:s,title:i,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,c}function Xr(t,e,r){const n=t.match(r.other.indentCodeCompensation);if(n===null)return e;const l=n[1];return e.split(`
`).map(s=>{const i=s.match(r.other.beginningSpace);if(i===null)return s;const[o]=i;return o.length>=l.length?s.slice(l.length):s}).join(`
`)}var He=class{constructor(t){I(this,"options");I(this,"rules");I(this,"lexer");this.options=t||ye}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const r=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Ae(r,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const r=e[0],n=Xr(r,e[3]||"",this.rules);return{type:"code",raw:r,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let r=e[2].trim();if(this.rules.other.endingHash.test(r)){const n=Ae(r,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(r=n.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Ae(e[0],`
`)}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let r=Ae(e[0],`
`).split(`
`),n="",l="";const s=[];for(;r.length>0;){let i=!1;const o=[];let c;for(c=0;c<r.length;c++)if(this.rules.other.blockquoteStart.test(r[c]))o.push(r[c]),i=!0;else if(!i)o.push(r[c]);else break;r=r.slice(c);const a=o.join(`
`),u=a.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${a}`:a,l=l?`${l}
${u}`:u;const d=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,s,!0),this.lexer.state.top=d,r.length===0)break;const f=s.at(-1);if((f==null?void 0:f.type)==="code")break;if((f==null?void 0:f.type)==="blockquote"){const b=f,p=b.raw+`
`+r.join(`
`),k=this.blockquote(p);s[s.length-1]=k,n=n.substring(0,n.length-b.raw.length)+k.raw,l=l.substring(0,l.length-b.text.length)+k.text;break}else if((f==null?void 0:f.type)==="list"){const b=f,p=b.raw+`
`+r.join(`
`),k=this.list(p);s[s.length-1]=k,n=n.substring(0,n.length-f.raw.length)+k.raw,l=l.substring(0,l.length-b.raw.length)+k.raw,r=p.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:s,text:l}}}list(t){let e=this.rules.block.list.exec(t);if(e){let r=e[1].trim();const n=r.length>1,l={type:"list",raw:"",ordered:n,start:n?+r.slice(0,-1):"",loose:!1,items:[]};r=n?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=n?r:"[*+-]");const s=this.rules.other.listItemRegex(r);let i=!1;for(;t;){let c=!1,a="",u="";if(!(e=s.exec(t))||this.rules.block.hr.test(t))break;a=e[0],t=t.substring(a.length);let d=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,$=>" ".repeat(3*$.length)),f=t.split(`
`,1)[0],b=!d.trim(),p=0;if(this.options.pedantic?(p=2,u=d.trimStart()):b?p=e[1].length+1:(p=e[2].search(this.rules.other.nonSpaceChar),p=p>4?1:p,u=d.slice(p),p+=e[1].length),b&&this.rules.other.blankLine.test(f)&&(a+=f+`
`,t=t.substring(f.length+1),c=!0),!c){const $=this.rules.other.nextBulletRegex(p),H=this.rules.other.hrRegex(p),A=this.rules.other.fencesBeginRegex(p),M=this.rules.other.headingBeginRegex(p),R=this.rules.other.htmlBeginRegex(p);for(;t;){const v=t.split(`
`,1)[0];let O;if(f=v,this.options.pedantic?(f=f.replace(this.rules.other.listReplaceNesting,"  "),O=f):O=f.replace(this.rules.other.tabCharGlobal,"    "),A.test(f)||M.test(f)||R.test(f)||$.test(f)||H.test(f))break;if(O.search(this.rules.other.nonSpaceChar)>=p||!f.trim())u+=`
`+O.slice(p);else{if(b||d.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||A.test(d)||M.test(d)||H.test(d))break;u+=`
`+f}!b&&!f.trim()&&(b=!0),a+=v+`
`,t=t.substring(v.length+1),d=O.slice(p)}}l.loose||(i?l.loose=!0:this.rules.other.doubleBlankLine.test(a)&&(i=!0));let k=null,S;this.options.gfm&&(k=this.rules.other.listIsTask.exec(u),k&&(S=k[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),l.items.push({type:"list_item",raw:a,task:!!k,checked:S,loose:!1,text:u,tokens:[]}),l.raw+=a}const o=l.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;l.raw=l.raw.trimEnd();for(let c=0;c<l.items.length;c++)if(this.lexer.state.top=!1,l.items[c].tokens=this.lexer.blockTokens(l.items[c].text,[]),!l.loose){const a=l.items[c].tokens.filter(d=>d.type==="space"),u=a.length>0&&a.some(d=>this.rules.other.anyLine.test(d.raw));l.loose=u}if(l.loose)for(let c=0;c<l.items.length;c++)l.items[c].loose=!0;return l}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const r=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",l=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:r,raw:e[0],href:n,title:l}}}table(t){var i;const e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const r=Dt(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),l=(i=e[3])!=null&&i.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(r.length===n.length){for(const o of n)this.rules.other.tableAlignRight.test(o)?s.align.push("right"):this.rules.other.tableAlignCenter.test(o)?s.align.push("center"):this.rules.other.tableAlignLeft.test(o)?s.align.push("left"):s.align.push(null);for(let o=0;o<r.length;o++)s.header.push({text:r[o],tokens:this.lexer.inline(r[o]),header:!0,align:s.align[o]});for(const o of l)s.rows.push(Dt(o,s.header.length).map((c,a)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:s.align[a]})));return s}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const r=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:r,tokens:this.lexer.inline(r)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const r=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(r)){if(!this.rules.other.endAngleBracket.test(r))return;const s=Ae(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{const s=Ur(e[2],"()");if(s===-2)return;if(s>-1){const o=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let n=e[2],l="";if(this.options.pedantic){const s=this.rules.other.pedanticHrefTitle.exec(n);s&&(n=s[1],l=s[3])}else l=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(r)?n=n.slice(1):n=n.slice(1,-1)),Ht(e,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:l&&l.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let r;if((r=this.rules.inline.reflink.exec(t))||(r=this.rules.inline.nolink.exec(t))){const n=(r[2]||r[1]).replace(this.rules.other.multipleSpaceGlobal," "),l=e[n.toLowerCase()];if(!l){const s=r[0].charAt(0);return{type:"text",raw:s,text:s}}return Ht(r,l,r[0],this.lexer,this.rules)}}emStrong(t,e,r=""){let n=this.rules.inline.emStrongLDelim.exec(t);if(!n||n[3]&&r.match(this.rules.other.unicodeAlphaNumeric))return;if(!(n[1]||n[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const s=[...n[0]].length-1;let i,o,c=s,a=0;const u=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(u.lastIndex=0,e=e.slice(-1*t.length+s);(n=u.exec(e))!=null;){if(i=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!i)continue;if(o=[...i].length,n[3]||n[4]){c+=o;continue}else if((n[5]||n[6])&&s%3&&!((s+o)%3)){a+=o;continue}if(c-=o,c>0)continue;o=Math.min(o,o+c+a);const d=[...n[0]][0].length,f=t.slice(0,s+n.index+d+o);if(Math.min(s,o)%2){const p=f.slice(1,-1);return{type:"em",raw:f,text:p,tokens:this.lexer.inlineTokens(p)}}const b=f.slice(2,-2);return{type:"strong",raw:f,text:b,tokens:this.lexer.inlineTokens(b)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let r=e[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(r),l=this.rules.other.startingSpaceChar.test(r)&&this.rules.other.endingSpaceChar.test(r);return n&&l&&(r=r.substring(1,r.length-1)),{type:"codespan",raw:e[0],text:r}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let r,n;return e[2]==="@"?(r=e[1],n="mailto:"+r):(r=e[1],n=r),{type:"link",raw:e[0],text:r,href:n,tokens:[{type:"text",raw:r,text:r}]}}}url(t){var r;let e;if(e=this.rules.inline.url.exec(t)){let n,l;if(e[2]==="@")n=e[0],l="mailto:"+n;else{let s;do s=e[0],e[0]=((r=this.rules.inline._backpedal.exec(e[0]))==null?void 0:r[0])??"";while(s!==e[0]);n=e[0],e[1]==="www."?l="http://"+e[0]:l=e[0]}return{type:"link",raw:e[0],text:n,href:l,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const r=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:r}}}},ue=class nt{constructor(e){I(this,"tokens");I(this,"options");I(this,"state");I(this,"tokenizer");I(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ye,this.options.tokenizer=this.options.tokenizer||new He,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const r={other:U,block:Me.normal,inline:Te.normal};this.options.pedantic?(r.block=Me.pedantic,r.inline=Te.pedantic):this.options.gfm&&(r.block=Me.gfm,this.options.breaks?r.inline=Te.breaks:r.inline=Te.gfm),this.tokenizer.rules=r}static get rules(){return{block:Me,inline:Te}}static lex(e,r){return new nt(r).lex(e)}static lexInline(e,r){return new nt(r).inlineTokens(e)}lex(e){e=e.replace(U.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let r=0;r<this.inlineQueue.length;r++){const n=this.inlineQueue[r];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,r=[],n=!1){var l,s,i;for(this.options.pedantic&&(e=e.replace(U.tabCharGlobal,"    ").replace(U.spaceLine,""));e;){let o;if((s=(l=this.options.extensions)==null?void 0:l.block)!=null&&s.some(a=>(o=a.call({lexer:this},e,r))?(e=e.substring(o.raw.length),r.push(o),!0):!1))continue;if(o=this.tokenizer.space(e)){e=e.substring(o.raw.length);const a=r.at(-1);o.raw.length===1&&a!==void 0?a.raw+=`
`:r.push(o);continue}if(o=this.tokenizer.code(e)){e=e.substring(o.raw.length);const a=r.at(-1);(a==null?void 0:a.type)==="paragraph"||(a==null?void 0:a.type)==="text"?(a.raw+=`
`+o.raw,a.text+=`
`+o.text,this.inlineQueue.at(-1).src=a.text):r.push(o);continue}if(o=this.tokenizer.fences(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.heading(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.hr(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.blockquote(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.list(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.html(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.def(e)){e=e.substring(o.raw.length);const a=r.at(-1);(a==null?void 0:a.type)==="paragraph"||(a==null?void 0:a.type)==="text"?(a.raw+=`
`+o.raw,a.text+=`
`+o.raw,this.inlineQueue.at(-1).src=a.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(e)){e=e.substring(o.raw.length),r.push(o);continue}if(o=this.tokenizer.lheading(e)){e=e.substring(o.raw.length),r.push(o);continue}let c=e;if((i=this.options.extensions)!=null&&i.startBlock){let a=1/0;const u=e.slice(1);let d;this.options.extensions.startBlock.forEach(f=>{d=f.call({lexer:this},u),typeof d=="number"&&d>=0&&(a=Math.min(a,d))}),a<1/0&&a>=0&&(c=e.substring(0,a+1))}if(this.state.top&&(o=this.tokenizer.paragraph(c))){const a=r.at(-1);n&&(a==null?void 0:a.type)==="paragraph"?(a.raw+=`
`+o.raw,a.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):r.push(o),n=c.length!==e.length,e=e.substring(o.raw.length);continue}if(o=this.tokenizer.text(e)){e=e.substring(o.raw.length);const a=r.at(-1);(a==null?void 0:a.type)==="text"?(a.raw+=`
`+o.raw,a.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=a.text):r.push(o);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,r}inline(e,r=[]){return this.inlineQueue.push({src:e,tokens:r}),r}inlineTokens(e,r=[]){var o,c,a;let n=e,l=null;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)u.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,l.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(l=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)n=n.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let s=!1,i="";for(;e;){s||(i=""),s=!1;let u;if((c=(o=this.options.extensions)==null?void 0:o.inline)!=null&&c.some(f=>(u=f.call({lexer:this},e,r))?(e=e.substring(u.raw.length),r.push(u),!0):!1))continue;if(u=this.tokenizer.escape(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.tag(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.link(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(u.raw.length);const f=r.at(-1);u.type==="text"&&(f==null?void 0:f.type)==="text"?(f.raw+=u.raw,f.text+=u.text):r.push(u);continue}if(u=this.tokenizer.emStrong(e,n,i)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.codespan(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.br(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.del(e)){e=e.substring(u.raw.length),r.push(u);continue}if(u=this.tokenizer.autolink(e)){e=e.substring(u.raw.length),r.push(u);continue}if(!this.state.inLink&&(u=this.tokenizer.url(e))){e=e.substring(u.raw.length),r.push(u);continue}let d=e;if((a=this.options.extensions)!=null&&a.startInline){let f=1/0;const b=e.slice(1);let p;this.options.extensions.startInline.forEach(k=>{p=k.call({lexer:this},b),typeof p=="number"&&p>=0&&(f=Math.min(f,p))}),f<1/0&&f>=0&&(d=e.substring(0,f+1))}if(u=this.tokenizer.inlineText(d)){e=e.substring(u.raw.length),u.raw.slice(-1)!=="_"&&(i=u.raw.slice(-1)),s=!0;const f=r.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=u.raw,f.text+=u.text):r.push(u);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return r}},Ge=class{constructor(t){I(this,"options");I(this,"parser");this.options=t||ye}space(t){return""}code({text:t,lang:e,escaped:r}){var s;const n=(s=(e||"").match(U.notSpaceStart))==null?void 0:s[0],l=t.replace(U.endingNewline,"")+`
`;return n?'<pre><code class="language-'+re(n)+'">'+(r?l:re(l,!0))+`</code></pre>
`:"<pre><code>"+(r?l:re(l,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){const e=t.ordered,r=t.start;let n="";for(let i=0;i<t.items.length;i++){const o=t.items[i];n+=this.listitem(o)}const l=e?"ol":"ul",s=e&&r!==1?' start="'+r+'"':"";return"<"+l+s+`>
`+n+"</"+l+`>
`}listitem(t){var r;let e="";if(t.task){const n=this.checkbox({checked:!!t.checked});t.loose?((r=t.tokens[0])==null?void 0:r.type)==="paragraph"?(t.tokens[0].text=n+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=n+" "+re(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):e+=n+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",r="";for(let l=0;l<t.header.length;l++)r+=this.tablecell(t.header[l]);e+=this.tablerow({text:r});let n="";for(let l=0;l<t.rows.length;l++){const s=t.rows[l];r="";for(let i=0;i<s.length;i++)r+=this.tablecell(s[i]);n+=this.tablerow({text:r})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const e=this.parser.parseInline(t.tokens),r=t.header?"th":"td";return(t.align?`<${r} align="${t.align}">`:`<${r}>`)+e+`</${r}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${re(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:r}){const n=this.parser.parseInline(r),l=qt(t);if(l===null)return n;t=l;let s='<a href="'+t+'"';return e&&(s+=' title="'+re(e)+'"'),s+=">"+n+"</a>",s}image({href:t,title:e,text:r,tokens:n}){n&&(r=this.parser.parseInline(n,this.parser.textRenderer));const l=qt(t);if(l===null)return re(r);t=l;let s=`<img src="${t}" alt="${r}"`;return e&&(s+=` title="${re(e)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:re(t.text)}},gt=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},fe=class rt{constructor(e){I(this,"options");I(this,"renderer");I(this,"textRenderer");this.options=e||ye,this.options.renderer=this.options.renderer||new Ge,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new gt}static parse(e,r){return new rt(r).parse(e)}static parseInline(e,r){return new rt(r).parseInline(e)}parse(e,r=!0){var l,s;let n="";for(let i=0;i<e.length;i++){const o=e[i];if((s=(l=this.options.extensions)==null?void 0:l.renderers)!=null&&s[o.type]){const a=o,u=this.options.extensions.renderers[a.type].call({parser:this},a);if(u!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){n+=u||"";continue}}const c=o;switch(c.type){case"space":{n+=this.renderer.space(c);continue}case"hr":{n+=this.renderer.hr(c);continue}case"heading":{n+=this.renderer.heading(c);continue}case"code":{n+=this.renderer.code(c);continue}case"table":{n+=this.renderer.table(c);continue}case"blockquote":{n+=this.renderer.blockquote(c);continue}case"list":{n+=this.renderer.list(c);continue}case"html":{n+=this.renderer.html(c);continue}case"paragraph":{n+=this.renderer.paragraph(c);continue}case"text":{let a=c,u=this.renderer.text(a);for(;i+1<e.length&&e[i+1].type==="text";)a=e[++i],u+=`
`+this.renderer.text(a);r?n+=this.renderer.paragraph({type:"paragraph",raw:u,text:u,tokens:[{type:"text",raw:u,text:u,escaped:!0}]}):n+=u;continue}default:{const a='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}parseInline(e,r=this.renderer){var l,s;let n="";for(let i=0;i<e.length;i++){const o=e[i];if((s=(l=this.options.extensions)==null?void 0:l.renderers)!=null&&s[o.type]){const a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){n+=a||"";continue}}const c=o;switch(c.type){case"escape":{n+=r.text(c);break}case"html":{n+=r.html(c);break}case"link":{n+=r.link(c);break}case"image":{n+=r.image(c);break}case"strong":{n+=r.strong(c);break}case"em":{n+=r.em(c);break}case"codespan":{n+=r.codespan(c);break}case"br":{n+=r.br(c);break}case"del":{n+=r.del(c);break}case"text":{n+=r.text(c);break}default:{const a='Token with "'+c.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return n}},Je,je=(Je=class{constructor(t){I(this,"options");I(this,"block");this.options=t||ye}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?ue.lex:ue.lexInline}provideParser(){return this.block?fe.parse:fe.parseInline}},I(Je,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Je),Kr=class{constructor(...t){I(this,"defaults",ot());I(this,"options",this.setOptions);I(this,"parse",this.parseMarkdown(!0));I(this,"parseInline",this.parseMarkdown(!1));I(this,"Parser",fe);I(this,"Renderer",Ge);I(this,"TextRenderer",gt);I(this,"Lexer",ue);I(this,"Tokenizer",He);I(this,"Hooks",je);this.use(...t)}walkTokens(t,e){var n,l;let r=[];for(const s of t)switch(r=r.concat(e.call(this,s)),s.type){case"table":{const i=s;for(const o of i.header)r=r.concat(this.walkTokens(o.tokens,e));for(const o of i.rows)for(const c of o)r=r.concat(this.walkTokens(c.tokens,e));break}case"list":{const i=s;r=r.concat(this.walkTokens(i.items,e));break}default:{const i=s;(l=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&l[i.type]?this.defaults.extensions.childTokens[i.type].forEach(o=>{const c=i[o].flat(1/0);r=r.concat(this.walkTokens(c,e))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,e)))}}return r}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(r=>{const n={...r};if(n.async=this.defaults.async||n.async||!1,r.extensions&&(r.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){const s=e.renderers[l.name];s?e.renderers[l.name]=function(...i){let o=l.renderer.apply(this,i);return o===!1&&(o=s.apply(this,i)),o}:e.renderers[l.name]=l.renderer}if("tokenizer"in l){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=e[l.level];s?s.unshift(l.tokenizer):e[l.level]=[l.tokenizer],l.start&&(l.level==="block"?e.startBlock?e.startBlock.push(l.start):e.startBlock=[l.start]:l.level==="inline"&&(e.startInline?e.startInline.push(l.start):e.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(e.childTokens[l.name]=l.childTokens)}),n.extensions=e),r.renderer){const l=this.defaults.renderer||new Ge(this.defaults);for(const s in r.renderer){if(!(s in l))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const i=s,o=r.renderer[i],c=l[i];l[i]=(...a)=>{let u=o.apply(l,a);return u===!1&&(u=c.apply(l,a)),u||""}}n.renderer=l}if(r.tokenizer){const l=this.defaults.tokenizer||new He(this.defaults);for(const s in r.tokenizer){if(!(s in l))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const i=s,o=r.tokenizer[i],c=l[i];l[i]=(...a)=>{let u=o.apply(l,a);return u===!1&&(u=c.apply(l,a)),u}}n.tokenizer=l}if(r.hooks){const l=this.defaults.hooks||new je;for(const s in r.hooks){if(!(s in l))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;const i=s,o=r.hooks[i],c=l[i];je.passThroughHooks.has(s)?l[i]=a=>{if(this.defaults.async)return Promise.resolve(o.call(l,a)).then(d=>c.call(l,d));const u=o.call(l,a);return c.call(l,u)}:l[i]=(...a)=>{let u=o.apply(l,a);return u===!1&&(u=c.apply(l,a)),u}}n.hooks=l}if(r.walkTokens){const l=this.defaults.walkTokens,s=r.walkTokens;n.walkTokens=function(i){let o=[];return o.push(s.call(this,i)),l&&(o=o.concat(l.call(this,i))),o}}this.defaults={...this.defaults,...n}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return ue.lex(t,e??this.defaults)}parser(t,e){return fe.parse(t,e??this.defaults)}parseMarkdown(t){return(r,n)=>{const l={...n},s={...this.defaults,...l},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&l.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof r>"u"||r===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=t);const o=s.hooks?s.hooks.provideLexer():t?ue.lex:ue.lexInline,c=s.hooks?s.hooks.provideParser():t?fe.parse:fe.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(r):r).then(a=>o(a,s)).then(a=>s.hooks?s.hooks.processAllTokens(a):a).then(a=>s.walkTokens?Promise.all(this.walkTokens(a,s.walkTokens)).then(()=>a):a).then(a=>c(a,s)).then(a=>s.hooks?s.hooks.postprocess(a):a).catch(i);try{s.hooks&&(r=s.hooks.preprocess(r));let a=o(r,s);s.hooks&&(a=s.hooks.processAllTokens(a)),s.walkTokens&&this.walkTokens(a,s.walkTokens);let u=c(a,s);return s.hooks&&(u=s.hooks.postprocess(u)),u}catch(a){return i(a)}}}onError(t,e){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const n="<p>An error occurred:</p><pre>"+re(r.message+"",!0)+"</pre>";return e?Promise.resolve(n):n}if(e)return Promise.reject(r);throw r}}},xe=new Kr;function B(t,e){return xe.parse(t,e)}B.options=B.setOptions=function(t){return xe.setOptions(t),B.defaults=xe.defaults,en(B.defaults),B};B.getDefaults=ot;B.defaults=ye;B.use=function(...t){return xe.use(...t),B.defaults=xe.defaults,en(B.defaults),B};B.walkTokens=function(t,e){return xe.walkTokens(t,e)};B.parseInline=xe.parseInline;B.Parser=fe;B.parser=fe.parse;B.Renderer=Ge;B.TextRenderer=gt;B.Lexer=ue;B.lexer=ue.lex;B.Tokenizer=He;B.Hooks=je;B.parse=B;B.options;B.setOptions;B.use;B.walkTokens;B.parseInline;fe.parse;ue.lex;function Jr(t){let e;return{c(){e=m("div"),g(e,"class","prose prose-invert max-w-none prose-headings:text-cyan-400 prose-a:text-blue-400 prose-strong:text-white prose-code:text-yellow-300")},m(r,n){C(r,e,n),e.innerHTML=t[0]},p(r,[n]){n&1&&(e.innerHTML=r[0])},i:X,o:X,d(r){r&&z(e)}}}function Yr(t,e,r){let{markdown:n=""}=e,l="";return t.$$set=s=>{"markdown"in s&&r(1,n=s.markdown)},t.$$.update=()=>{if(t.$$.dirty&2)try{r(0,l=B.parse(n))}catch{r(0,l='<p class="text-red-500">Error rendering markdown</p>')}},[l,n]}class el extends Y{constructor(e){super(),J(this,e,Yr,Jr,K,{markdown:1})}}function Gt(t,e,r){const n=t.slice();return n[17]=e[r],n}function Zt(t,e,r){const n=t.slice();return n[20]=e[r][0],n[17]=e[r][1],n}function Ft(t){let e,r,n,l,s,i,o,c,a,u,d,f,b,p,k,S,$,H,A,M,R,v,O,x,P,E,F,N,ee,Q,Z,ge,Qe,mt;s=new Dn({props:{size:20,class:"text-cyan-400"}});const bt=[nl,tl],me=[];function kt(j,te){return j[6]?0:1}R=kt(t),v=me[R]=bt[R](t);const _t=[ll,rl],_e=[];function wt(j,te){return j[3]?0:1}P=wt(t),E=_e[P]=_t[P](t);const xt=[ol,il,sl],be=[];function yt(j,te){return j[3]?0:j[4]?1:2}return Q=yt(t),Z=be[Q]=xt[Q](t),{c(){e=m("div"),r=m("div"),n=m("div"),l=m("h2"),G(s.$$.fragment),i=V(" New Analysis"),o=y(),c=m("div"),a=m("div"),u=m("label"),u.textContent="Query / Threat Name",d=y(),f=m("textarea"),b=y(),p=m("div"),k=m("label"),k.textContent="Upload GNN Graph (Optional)",S=y(),$=m("div"),H=m("input"),A=y(),M=m("div"),v.c(),O=y(),x=m("button"),E.c(),N=y(),ee=m("div"),Z.c(),g(l,"class","text-lg font-semibold text-white mb-4 flex items-center gap-2"),g(u,"class","block text-sm font-medium text-gray-400 mb-1"),g(f,"class","w-full bg-gray-950 border border-gray-700 rounded-lg p-3 text-white focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500 outline-none h-32 resize-none"),g(f,"placeholder","e.g., Analyze the recent Account Hijacking trends in the energy sector..."),g(k,"class","block text-sm font-medium text-gray-400 mb-1"),g(H,"type","file"),g(H,"accept","image/*"),g(H,"class","absolute inset-0 w-full h-full opacity-0 cursor-pointer"),g(M,"class","flex flex-col items-center gap-2 text-gray-500 group-hover:text-cyan-400"),g($,"class","border-2 border-dashed border-gray-700 rounded-lg p-4 text-center hover:bg-gray-800/50 transition-colors relative cursor-pointer group"),x.disabled=F=t[3]||!t[2],g(x,"class","w-full py-3 bg-cyan-600 hover:bg-cyan-500 disabled:bg-gray-800 disabled:text-gray-500 disabled:cursor-not-allowed rounded-lg text-white font-bold flex items-center justify-center gap-2 transition-all shadow-lg hover:shadow-cyan-500/20"),g(c,"class","space-y-4"),g(n,"class","bg-gray-900 rounded-xl p-6 border border-gray-800 shadow-xl"),g(r,"class","lg:col-span-1 space-y-6"),g(ee,"class","lg:col-span-2"),g(e,"class","grid grid-cols-1 lg:grid-cols-3 gap-8")},m(j,te){C(j,e,te),h(e,r),h(r,n),h(n,l),q(s,l,null),h(l,i),h(n,o),h(n,c),h(c,a),h(a,u),h(a,d),h(a,f),Rt(f,t[2]),h(c,b),h(c,p),h(p,k),h(p,S),h(p,$),h($,H),h($,A),h($,M),me[R].m(M,null),h(c,O),h(c,x),_e[P].m(x,null),h(e,N),h(e,ee),be[Q].m(ee,null),ge=!0,Qe||(mt=[se(f,"input",t[15]),se(H,"change",t[9]),se(x,"click",t[10])],Qe=!0)},p(j,te){te&4&&Rt(f,j[2]);let We=R;R=kt(j),R===We?me[R].p(j,te):(Re(),w(me[We],1,1,()=>{me[We]=null}),ze(),v=me[R],v?v.p(j,te):(v=me[R]=bt[R](j),v.c()),_(v,1),v.m(M,null));let Ve=P;P=wt(j),P!==Ve&&(Re(),w(_e[Ve],1,1,()=>{_e[Ve]=null}),ze(),E=_e[P],E||(E=_e[P]=_t[P](j),E.c()),_(E,1),E.m(x,null)),(!ge||te&12&&F!==(F=j[3]||!j[2]))&&(x.disabled=F);let Ue=Q;Q=yt(j),Q===Ue?be[Q].p(j,te):(Re(),w(be[Ue],1,1,()=>{be[Ue]=null}),ze(),Z=be[Q],Z?Z.p(j,te):(Z=be[Q]=xt[Q](j),Z.c()),_(Z,1),Z.m(ee,null))},i(j){ge||(_(s.$$.fragment,j),_(v),_(E),_(Z),ge=!0)},o(j){w(s.$$.fragment,j),w(v),w(E),w(Z),ge=!1},d(j){j&&z(e),D(s),me[R].d(),_e[P].d(),be[Q].d(),Qe=!1,ke(mt)}}}function tl(t){let e,r,n,l;return e=new Yn({props:{size:24}}),{c(){G(e.$$.fragment),r=y(),n=m("span"),n.textContent="Click or drag image",g(n,"class","text-xs")},m(s,i){q(e,s,i),C(s,r,i),C(s,n,i),l=!0},p:X,i(s){l||(_(e.$$.fragment,s),l=!0)},o(s){w(e.$$.fragment,s),l=!1},d(s){s&&(z(r),z(n)),D(e,s)}}}function nl(t){var o;let e,r,n,l,s=((o=t[5])==null?void 0:o.name)+"",i;return{c(){e=m("img"),n=y(),l=m("span"),i=V(s),$t(e.src,r=t[6])||g(e,"src",r),g(e,"alt","Preview"),g(e,"class","h-24 object-contain rounded"),g(l,"class","text-xs")},m(c,a){C(c,e,a),C(c,n,a),C(c,l,a),h(l,i)},p(c,a){var u;a&64&&!$t(e.src,r=c[6])&&g(e,"src",r),a&32&&s!==(s=((u=c[5])==null?void 0:u.name)+"")&&he(i,s)},i:X,o:X,d(c){c&&(z(e),z(n),z(l))}}}function rl(t){let e,r,n;return e=new st({props:{size:20}}),{c(){G(e.$$.fragment),r=V(" Start Analysis")},m(l,s){q(e,l,s),C(l,r,s),n=!0},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){w(e.$$.fragment,l),n=!1},d(l){l&&z(r),D(e,l)}}}function ll(t){let e,r,n;return e=new it({props:{class:"animate-spin",size:20}}),{c(){G(e.$$.fragment),r=V(" Analyzing...")},m(l,s){q(e,l,s),C(l,r,s),n=!0},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){w(e.$$.fragment,l),n=!1},d(l){l&&z(r),D(e,l)}}}function sl(t){let e,r,n,l,s,i,o,c;return n=new st({props:{class:"text-gray-600",size:32}}),{c(){e=m("div"),r=m("div"),G(n.$$.fragment),l=y(),s=m("h3"),s.textContent="Ready to Analyze",i=y(),o=m("p"),o.textContent="Enter a threat query or CVE ID to task the agent swarm.",g(r,"class","w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mb-4"),g(s,"class","text-xl font-medium text-gray-500"),g(o,"class","text-gray-600 mt-2 max-w-sm"),g(e,"class","bg-gray-900/30 rounded-xl p-12 border border-dashed border-gray-800 flex flex-col items-center justify-center text-center")},m(a,u){C(a,e,u),h(e,r),q(n,r,null),h(e,l),h(e,s),h(e,i),h(e,o),c=!0},p:X,i(a){c||(_(n.$$.fragment,a),c=!0)},o(a){w(n.$$.fragment,a),c=!1},d(a){a&&z(e),D(n)}}}function il(t){let e,r,n,l,s,i,o,c,a,u,d,f,b,p,k,S,$,H,A,M,R=t[4].gnn_data+"",v,O,x;s=new Cn({props:{class:"text-cyan-400",size:20}}),d=new el({props:{markdown:t[4].final_report}});let P=le(Object.entries(t[4].agent_reports||{})),E=[];for(let N=0;N<P.length;N+=1)E[N]=Qt(Zt(t,P,N));let F=t[4].vlm_analysis&&Wt(t);return{c(){e=m("div"),r=m("div"),n=m("div"),l=m("h2"),G(s.$$.fragment),i=V(" Comprehensive Report"),o=y(),c=m("span"),c.textContent="Generated Just Now",a=y(),u=m("div"),G(d.$$.fragment),f=y(),b=m("div");for(let N=0;N<E.length;N+=1)E[N].c();p=y(),k=m("div"),S=m("h4"),S.textContent="GNN & VLM Insights",$=y(),H=m("p"),A=m("span"),A.textContent="GNN Context:",M=y(),v=V(R),O=y(),F&&F.c(),g(l,"class","text-lg font-bold text-white flex items-center gap-2"),g(c,"class","text-xs text-gray-400 bg-gray-800 px-2 py-1 rounded"),g(n,"class","bg-gradient-to-r from-gray-800 to-gray-900 p-4 border-b border-gray-700 flex items-center justify-between"),g(u,"class","p-6 bg-gray-900/90"),g(r,"class","bg-gray-900 rounded-xl border border-gray-700 shadow-2xl overflow-hidden"),g(b,"class","grid grid-cols-1 md:grid-cols-2 gap-4"),g(S,"class","text-sm font-bold text-green-400 mb-2"),g(A,"class","text-gray-500"),g(H,"class","text-sm text-gray-300 mb-2"),g(k,"class","bg-gray-900 rounded-lg border border-gray-800 p-4"),g(e,"class","space-y-6")},m(N,ee){C(N,e,ee),h(e,r),h(r,n),h(n,l),q(s,l,null),h(l,i),h(n,o),h(n,c),h(r,a),h(r,u),q(d,u,null),h(e,f),h(e,b);for(let Q=0;Q<E.length;Q+=1)E[Q]&&E[Q].m(b,null);h(e,p),h(e,k),h(k,S),h(k,$),h(k,H),h(H,A),h(H,M),h(H,v),h(k,O),F&&F.m(k,null),x=!0},p(N,ee){const Q={};if(ee&16&&(Q.markdown=N[4].final_report),d.$set(Q),ee&16){P=le(Object.entries(N[4].agent_reports||{}));let Z;for(Z=0;Z<P.length;Z+=1){const ge=Zt(N,P,Z);E[Z]?E[Z].p(ge,ee):(E[Z]=Qt(ge),E[Z].c(),E[Z].m(b,null))}for(;Z<E.length;Z+=1)E[Z].d(1);E.length=P.length}(!x||ee&16)&&R!==(R=N[4].gnn_data+"")&&he(v,R),N[4].vlm_analysis?F?F.p(N,ee):(F=Wt(N),F.c(),F.m(k,null)):F&&(F.d(1),F=null)},i(N){x||(_(s.$$.fragment,N),_(d.$$.fragment,N),x=!0)},o(N){w(s.$$.fragment,N),w(d.$$.fragment,N),x=!1},d(N){N&&z(e),D(s),D(d),Pe(E,N),F&&F.d()}}}function ol(t){let e,r,n,l,s,i,o;return r=new it({props:{class:"text-cyan-500 w-12 h-12 animate-spin mb-4"}}),{c(){e=m("div"),G(r.$$.fragment),n=y(),l=m("h3"),l.textContent="Synthesizing Intelligence...",s=y(),i=m("p"),i.textContent=`Agents are cross-referencing Knowledge Bases and GNN
                predictions.`,g(l,"class","text-xl font-medium text-white"),g(i,"class","text-gray-400 mt-2"),g(e,"class","bg-gray-900/50 rounded-xl p-12 border border-gray-800 flex flex-col items-center justify-center text-center animate-pulse")},m(c,a){C(c,e,a),q(r,e,null),h(e,n),h(e,l),h(e,s),h(e,i),o=!0},p:X,i(c){o||(_(r.$$.fragment,c),o=!0)},o(c){w(r.$$.fragment,c),o=!1},d(c){c&&z(e),D(r)}}}function Qt(t){let e,r,n=t[20]+"",l,s,i,o=t[17]+"",c,a;return{c(){e=m("div"),r=m("h4"),l=V(n),s=y(),i=m("div"),c=V(o),a=y(),g(r,"class","text-sm font-bold text-cyan-300 mb-2 uppercase tracking-wider"),g(i,"class","text-sm text-gray-400 line-clamp-4 hover:line-clamp-none transition-all cursor-pointer"),g(e,"class","bg-gray-900 rounded-lg border border-gray-800 p-4 hover:border-gray-600 transition-colors")},m(u,d){C(u,e,d),h(e,r),h(r,l),h(e,s),h(e,i),h(i,c),h(e,a)},p(u,d){d&16&&n!==(n=u[20]+"")&&he(l,n),d&16&&o!==(o=u[17]+"")&&he(c,o)},d(u){u&&z(e)}}}function Wt(t){let e,r,n,l=t[4].vlm_analysis+"",s;return{c(){e=m("div"),r=m("span"),r.textContent="VLM Analysis:",n=y(),s=V(l),g(r,"class","text-gray-500 block mb-1"),g(e,"class","text-sm text-gray-300 p-3 bg-gray-800/50 rounded border border-gray-700")},m(i,o){C(i,e,o),h(e,r),h(e,n),h(e,s)},p(i,o){o&16&&l!==(l=i[4].vlm_analysis+"")&&he(s,l)},d(i){i&&z(e)}}}function Vt(t){let e,r,n,l,s,i;function o(u,d){return u[8]?ul:u[7].length===0?cl:al}let c=o(t),a=c(t);return{c(){e=m("div"),r=m("div"),n=m("table"),l=m("thead"),l.innerHTML='<tr><th class="px-6 py-4 font-medium">Date</th> <th class="px-6 py-4 font-medium">Threat Name</th> <th class="px-6 py-4 font-medium">File</th> <th class="px-6 py-4 font-medium text-right">Actions</th></tr>',s=y(),i=m("tbody"),a.c(),g(l,"class","bg-gray-800 text-gray-400 uppercase tracking-wider"),g(i,"class","divide-y divide-gray-800"),g(n,"class","w-full text-left text-sm"),g(r,"class","overflow-x-auto"),g(e,"class","bg-gray-900 rounded-xl border border-gray-800 shadow-xl overflow-hidden")},m(u,d){C(u,e,d),h(e,r),h(r,n),h(n,l),h(n,s),h(n,i),a.m(i,null)},p(u,d){c===(c=o(u))&&a?a.p(u,d):(a.d(1),a=c(u),a&&(a.c(),a.m(i,null)))},d(u){u&&z(e),a.d()}}}function al(t){let e,r=le(t[7]),n=[];for(let l=0;l<r.length;l+=1)n[l]=Ut(Gt(t,r,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=Ee()},m(l,s){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(l,s);C(l,e,s)},p(l,s){if(s&128){r=le(l[7]);let i;for(i=0;i<r.length;i+=1){const o=Gt(l,r,i);n[i]?n[i].p(o,s):(n[i]=Ut(o),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},d(l){l&&z(e),Pe(n,l)}}}function cl(t){let e;return{c(){e=m("tr"),e.innerHTML='<td colspan="4" class="px-6 py-8 text-center text-gray-500">No reports found.</td>'},m(r,n){C(r,e,n)},p:X,d(r){r&&z(e)}}}function ul(t){let e;return{c(){e=m("tr"),e.innerHTML='<td colspan="4" class="px-6 py-8 text-center text-gray-500">Loading history...</td>'},m(r,n){C(r,e,n)},p:X,d(r){r&&z(e)}}}function Ut(t){let e,r,n=new Date(t[17].created_at).toLocaleString()+"",l,s,i,o=t[17].threat_name+"",c,a,u,d=t[17].filename+"",f,b,p,k;return{c(){e=m("tr"),r=m("td"),l=V(n),s=y(),i=m("td"),c=V(o),a=y(),u=m("td"),f=V(d),b=y(),p=m("td"),p.innerHTML='<button class="text-cyan-400 hover:text-cyan-300 font-medium">View</button>',k=y(),g(r,"class","px-6 py-4 text-gray-300 whitespace-nowrap"),g(i,"class","px-6 py-4 font-medium text-white"),g(u,"class","px-6 py-4 text-gray-400"),g(p,"class","px-6 py-4 text-right"),g(e,"class","hover:bg-gray-800/50 transition-colors")},m(S,$){C(S,e,$),h(e,r),h(r,l),h(e,s),h(e,i),h(i,c),h(e,a),h(e,u),h(u,f),h(e,b),h(e,p),h(e,k)},p(S,$){$&128&&n!==(n=new Date(S[17].created_at).toLocaleString()+"")&&he(l,n),$&128&&o!==(o=S[17].threat_name+"")&&he(c,o),$&128&&d!==(d=S[17].filename+"")&&he(f,d)},d(S){S&&z(e)}}}function fl(t){let e,r,n,l,s,i,o,c,a,u,d,f,b,p,k,S,$,H,A,M,R;r=new ir({props:{onOpenSettings:t[11]}}),l=new gr({props:{show:t[1],onClose:t[12]}}),a=new st({props:{size:18}}),p=new En({props:{size:18}});let v=t[0]==="dashboard"&&Ft(t),O=t[0]==="history"&&Vt(t);return{c(){e=m("div"),G(r.$$.fragment),n=y(),G(l.$$.fragment),s=y(),i=m("main"),o=m("div"),c=m("button"),G(a.$$.fragment),u=V(" Dashboard"),f=y(),b=m("button"),G(p.$$.fragment),k=V(" History"),$=y(),v&&v.c(),H=y(),O&&O.c(),g(c,"class",d="px-4 py-3 flex items-center gap-2 border-b-2 transition-colors "+(t[0]==="dashboard"?"border-cyan-500 text-cyan-400":"border-transparent text-gray-400 hover:text-white")),g(b,"class",S="px-4 py-3 flex items-center gap-2 border-b-2 transition-colors "+(t[0]==="history"?"border-cyan-500 text-cyan-400":"border-transparent text-gray-400 hover:text-white")),g(o,"class","flex gap-4 mb-8 border-b border-gray-800"),g(i,"class","max-w-7xl mx-auto px-4 py-8"),g(e,"class","min-h-screen bg-gray-950 text-gray-200 font-sans selection:bg-cyan-500/30")},m(x,P){C(x,e,P),q(r,e,null),h(e,n),q(l,e,null),h(e,s),h(e,i),h(i,o),h(o,c),q(a,c,null),h(c,u),h(o,f),h(o,b),q(p,b,null),h(b,k),h(i,$),v&&v.m(i,null),h(i,H),O&&O.m(i,null),A=!0,M||(R=[se(c,"click",t[13]),se(b,"click",t[14])],M=!0)},p(x,[P]){const E={};P&2&&(E.onOpenSettings=x[11]),r.$set(E);const F={};P&2&&(F.show=x[1]),P&2&&(F.onClose=x[12]),l.$set(F),(!A||P&1&&d!==(d="px-4 py-3 flex items-center gap-2 border-b-2 transition-colors "+(x[0]==="dashboard"?"border-cyan-500 text-cyan-400":"border-transparent text-gray-400 hover:text-white")))&&g(c,"class",d),(!A||P&1&&S!==(S="px-4 py-3 flex items-center gap-2 border-b-2 transition-colors "+(x[0]==="history"?"border-cyan-500 text-cyan-400":"border-transparent text-gray-400 hover:text-white")))&&g(b,"class",S),x[0]==="dashboard"?v?(v.p(x,P),P&1&&_(v,1)):(v=Ft(x),v.c(),_(v,1),v.m(i,H)):v&&(Re(),w(v,1,1,()=>{v=null}),ze()),x[0]==="history"?O?O.p(x,P):(O=Vt(x),O.c(),O.m(i,null)):O&&(O.d(1),O=null)},i(x){A||(_(r.$$.fragment,x),_(l.$$.fragment,x),_(a.$$.fragment,x),_(p.$$.fragment,x),_(v),A=!0)},o(x){w(r.$$.fragment,x),w(l.$$.fragment,x),w(a.$$.fragment,x),w(p.$$.fragment,x),w(v),A=!1},d(x){x&&z(e),D(r),D(l),D(a),D(p),v&&v.d(),O&&O.d(),M=!1,ke(R)}}}function hl(t,e,r){let n=!1,l="dashboard",s="",i=!1,o=null,c=null,a=null,u=[],d=!1;function f(M){const R=M.target;if(R.files&&R.files.length>0){r(5,c=R.files[0]);const v=new FileReader;v.onload=O=>{var x;return r(6,a=(x=O.target)==null?void 0:x.result)},v.readAsDataURL(c)}}async function b(){if(!s)return;r(3,i=!0),r(4,o=null);let M="";a&&(M=a.split(",")[1]);try{r(4,o=await ur(s,M))}catch(R){alert("Analysis failed: "+R)}finally{r(3,i=!1)}}async function p(){r(8,d=!0);try{r(7,u=await cr())}catch(M){console.error(M)}finally{r(8,d=!1)}}const k=()=>r(1,n=!0),S=()=>r(1,n=!1),$=()=>r(0,l="dashboard"),H=()=>r(0,l="history");function A(){s=this.value,r(2,s)}return t.$$.update=()=>{t.$$.dirty&1&&l==="history"&&p()},[l,n,s,i,o,c,a,u,d,f,b,k,S,$,H,A]}class pl extends Y{constructor(e){super(),J(this,e,hl,fl,K,{})}}new pl({target:document.getElementById("app")});
